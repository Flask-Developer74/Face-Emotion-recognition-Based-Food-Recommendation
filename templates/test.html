<html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="icon" href="img/favicon.png" type="image/png">
        <title>Foodie Moodie</title>
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="../static/css/bootstrap.css">
        <link rel="stylesheet" href="../static/vendors/linericon/style.css">
        <link rel="stylesheet" href="../static/css/font-awesome.min.css">
        <link rel="stylesheet" href="../static/vendors/owl-carousel/owl.carousel.min.css">
        <link rel="stylesheet" href="../static/vendors/lightbox/simpleLightbox.css">
        <link rel="stylesheet" href="../static/vendors/nice-select/css/nice-select.css">
        <link rel="stylesheet" href="../static/vendors/animate-css/animate.css">
        <link rel="stylesheet" href="../static/vendors/popup/magnific-popup.css">
        <link rel="stylesheet" href="../static/vendors/flaticon/flaticon.css">
        <!-- main css -->
        <link rel="stylesheet" href="../static/css/style.css">
        <link rel="stylesheet" href="../static/css/responsive.css">
		<style>
		/* Add custom styling for the video area */
#body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh; /* Adjust as needed */
}

		</style>
    </head>
    <body>
        
        <!--================Header Menu Area =================-->
        <header class="header_area">
            <div class="main_menu">
            	<nav class="navbar navbar-expand-lg navbar-light">
					<div class="container box_1620">
						<!-- Brand and toggle get grouped for better mobile display -->
						<a class="navbar-brand logo_h" href="index.html"><span style="color:#FFFFFF">EMOTION</span></a>
						<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
						</button>
						<!-- Collect the nav links, forms, and other content for toggling -->
						<div class="collapse navbar-collapse offset" id="navbarSupportedContent">
							<ul class="nav navbar-nav menu_nav ml-auto">
								<li class="nav-item active"><a class="nav-link" href="/">Home</a></li> 
								<li class="nav-item"><a class="nav-link" href="/test">Testing</a></li> 
								<li class="nav-item"><a class="nav-link" href="/logout">Logout</a></li> 
								
							</ul>
						</div> 
					</div>
            	</nav>
            </div>
        </header>
        <!--================Header Menu Area =================-->
        
        <!--================Home Banner Area =================-->
        <section class="banner_area">
            <div class="box_1620">
				<div class="banner_inner d-flex align-items-center">
					<div class="container">
						<div class="banner_content text-center">
							<h2>User</h2>
							<div class="page_link">
								<a href="index.html">Home</a>
								<a href="services.html">User</a>
							</div>
						</div>
					</div>
				</div>
            </div>
        </section>
        <!--================End Home Banner Area =================-->
        
        
<div id="body" style="display: flex; justify-content: center; align-items: center; height: 100vh;">
    <!-- Video Area -->
    <div align="center" style="width: 50%; text-align: center;">
        <h2 align="center" style="color: #ff3300;">Face Emotion Recognition</h2>
        <div align="center" style="margin: 10px; text-align: center; width: 100%; border: 2px solid #ccc; border-radius: 10px; overflow: hidden;">
            <img class="outer-shadow" id="bg" class="center img-fluid" src="{{ url_for('video_feed') }}" style="max-width: 100%; max-height: 100%;" />
        </div>
    </div>
   
</div>

<div>&nbsp;</div><div>&nbsp;</div><div>&nbsp;</div><div>&nbsp;</div>


<div id="body" style="display: flex; justify-content: center; align-items: center; height: 100vh;"> 
    <!-- Result Area -->
    
    <!-- Result Area -->
    <div align="center" style="width: 50%; text-align: center;">
        <h2 align="center" style="color: #ff3300;">Convolutional Neural Network</h2>
        <div id="ResultArea" style="margin-top: 20px;">
            <!-- Result area will be populated dynamically using JavaScript -->
            <div class="card-columns" id="DynamicResults"></div>
        </div>
    </div>
</div>
	
	</div>

</body>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type=text/javascript>

// Constantly Update Results
setInterval(function() {
    $.getJSON('/t', function(data) {
        DisplayResults(data);
        console.log(data,"DATA");
      });
    return false;
}, 100);

function DisplayResults(data) {
    // Clear result div
    $("#DynamicResults").html("");

    // Create cards for each result
    data.forEach(function(item) {
        var card = $("<div class='card'></div>");

        // Card body
        var cardBody = $("<div class='card-body'></div>");

        // Add content to card body
        cardBody.append("<h5 class='card-title'>" + item.Name + "</h5>");
        

        // Append card body to card
        card.append(cardBody);

        // Append card to results area
        $("#DynamicResults").append(card);
    });
}
</script>

</html>